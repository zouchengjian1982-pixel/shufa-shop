<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è®¢å•ç®¡ç†åå°</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'PingFang SC', sans-serif; background: #f5f5f5; }
        .header { background: linear-gradient(135deg, #8B4513, #D2691E); color: #fff; padding: 20px; text-align: center; }
        .login-box { max-width: 300px; margin: 100px auto; padding: 30px; background: #fff; border-radius: 12px; }
        .login-box h2 { text-align: center; margin-bottom: 20px; color: #8B4513; }
        .login-box input { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; margin-bottom: 15px; }
        .login-box button { width: 100%; padding: 12px; background: #8B4513; color: #fff; border: none; border-radius: 8px; }
        .container { display: none; }
        .stats { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin: 15px; }
        .stat-card { background: #fff; padding: 15px; border-radius: 10px; text-align: center; }
        .stat-card .num { font-size: 28px; color: #8B4513; font-weight: bold; }
        .stat-card .label { font-size: 12px; color: #999; }
        .order-list { background: #fff; margin: 15px; border-radius: 10px; }
        .order-item { padding: 15px; border-bottom: 1px solid #f0f0f0; }
        .order-header { display: flex; justify-content: space-between; margin-bottom: 10px; }
        .order-id { font-size: 12px; color: #999; }
        .order-status { font-size: 12px; padding: 2px 8px; border-radius: 10px; background: #e8f5e9; color: #4caf50; }
        .order-info { font-size: 14px; margin-bottom: 8px; }
        .order-products { font-size: 13px; color: #666; background: #f9f9f9; padding: 10px; border-radius: 6px; margin: 10px 0; }
        .order-total { font-size: 16px; color: #D2691E; font-weight: bold; }
        .order-actions { margin-top: 10px; }
        .order-actions button { padding: 6px 15px; border: none; border-radius: 15px; font-size: 12px; margin-right: 10px; }
        .btn-ship { background: #8B4513; color: #fff; }
        .btn-delete { background: #f5f5f5; color: #999; }
        .empty { text-align: center; padding: 50px; color: #999; }
    </style>
</head>
<body>
    <div class="login-box" id="loginBox">
        <h2>ğŸ” ç®¡ç†åå°</h2>
        <input type="password" id="password" placeholder="è¯·è¾“å…¥ç®¡ç†å¯†ç ">
        <button onclick="login()">ç™»å½•</button>
    </div>
    <div class="container" id="container">
        <header class="header"><h1>ğŸ“¦ è®¢å•ç®¡ç†</h1></header>
        <div class="stats">
            <div class="stat-card"><div class="num" id="totalOrders">0</div><div class="label">æ€»è®¢å•</div></div>
            <div class="stat-card"><div class="num" id="totalAmount">0</div><div class="label">æ€»é‡‘é¢</div></div>
            <div class="stat-card"><div class="num" id="pendingOrders">0</div><div class="label">å¾…å¤„ç†</div></div>
        </div>
        <div class="order-list" id="orderList"></div>
    </div>
    <script>
        const ADMIN_PASSWORD = '123456';
        let orders = [];
        function login() {
            if (document.getElementById('password').value === ADMIN_PASSWORD) {
                document.getElementById('loginBox').style.display = 'none';
                document.getElementById('container').style.display = 'block';
                loadOrders();
            } else { alert('å¯†ç é”™è¯¯'); }
        }
        function loadOrders() {
            orders = JSON.parse(localStorage.getItem('shuhua_orders')) || [];
            document.getElementById('totalOrders').textContent = orders.length;
            document.getElementById('totalAmount').textContent = 'Â¥' + orders.reduce((s,o) => s+o.total, 0);
            document.getElementById('pendingOrders').textContent = orders.filter(o => o.status === 'paid').length;
            renderOrders();
        }
        function renderOrders() {
            const list = document.getElementById('orderList');
            if (orders.length === 0) { list.innerHTML = '<div class="empty">æš‚æ— è®¢å•</div>'; return; }
            list.innerHTML = orders.map((o,i) => `
                <div class="order-item">
                    <div class="order-header"><span class="order-id">è®¢å•å·: ${o.id}</span><span class="order-status">${o.status==='shipped'?'å·²å‘è´§':'å¾…å‘è´§'}</span></div>
                    <div class="order-info"><strong>æ”¶ä»¶äºº:</strong> ${o.receiver.name} | ${o.receiver.phone}</div>
                    <div class="order-info"><strong>åœ°å€:</strong> ${o.receiver.address}</div>
                    <div class="order-products">${o.items.map(item => item.name+' x'+item.quantity).join('ã€')}</div>
                    <div class="order-total">åˆè®¡: Â¥${o.total}</div>
                    <div class="order-info" style="font-size:12px;color:#999;">æ—¶é—´: ${o.time}</div>
                    <div class="order-actions">
                        <button class="btn-ship" onclick="shipOrder(${i})">æ ‡è®°å‘è´§</button>
                        <button class="btn-delete" onclick="deleteOrder(${i})">åˆ é™¤</button>
                    </div>
                </div>`).join('');
        }
        function shipOrder(i) { orders[i].status = 'shipped'; localStorage.setItem('shuhua_orders', JSON.stringify(orders)); loadOrders(); }
        function deleteOrder(i) { if(confirm('ç¡®å®šåˆ é™¤ï¼Ÿ')) { orders.splice(i,1); localStorage.setItem('shuhua_orders', JSON.stringify(orders)); loadOrders(); } }
        document.getElementById('password').onkeypress = e => { if(e.key==='Enter') login(); };
    </script>
</body>
</html>
